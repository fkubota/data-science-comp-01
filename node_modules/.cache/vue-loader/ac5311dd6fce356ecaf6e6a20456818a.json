{"remainingRequest":"/home/fkubota/Git/data-science-comp-01/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/fkubota/Git/data-science-comp-01/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/fkubota/Git/data-science-comp-01/src/App.vue","mtime":1586606215787},{"path":"/home/fkubota/Git/data-science-comp-01/node_modules/cache-loader/dist/cjs.js","mtime":1586602393340},{"path":"/home/fkubota/Git/data-science-comp-01/node_modules/babel-loader/lib/index.js","mtime":1586602393348},{"path":"/home/fkubota/Git/data-science-comp-01/node_modules/vuetify-loader/lib/loader.js","mtime":1586602393040},{"path":"/home/fkubota/Git/data-science-comp-01/node_modules/cache-loader/dist/cjs.js","mtime":1586602393340},{"path":"/home/fkubota/Git/data-science-comp-01/node_modules/vue-loader/lib/index.js","mtime":1586602393268}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKICBleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhICgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBzY29yZTogJy4uLicsCiAgICAgICAgaGVsbG86ICcnLAogICAgICAgIHN1YkRhdGE6ICcnLAogICAgICAgIHJhbmtpbmdUYWJsZTogJycsCiAgICAgICAgc29ydEJ5OiAncmFuaycsCiAgICAgICAgc29ydERlc2M6IGZhbHNlLAogICAgICAgIHNlbGVjdGlvbl9uYW1lOiAnJywKICAgICAgICBuYW1lczogWydBJywgJ0InLCAnQyddLAogICAgICAgIGRyb3Bkb3duX2ZvbnQ6IFsnQXJpYWwnLCAnQ2FsaWJyaScsICdDb3VyaWVyJywgJ1ZlcmRhbmEnXSwKICAgICAgICBoZWFkZXJzOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHRleHQ6ICcjJywKICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgICAgIHZhbHVlOiAncmFuaycsCiAgICAgICAgICB9LAogICAgICAgICAgeyB0ZXh0OiAnTmFtZScsIHZhbHVlOiAnbmFtZSd9LAogICAgICAgICAgeyB0ZXh0OiAnU2NvcmUnLCB2YWx1ZTogJ3Njb3JlJ30sCiAgICAgICAgICB7IHRleHQ6ICdOX1N1Ym1pc3Npb24nLCB2YWx1ZTogJ25fc3VibWlzc2lvbicgfSwKICAgICAgICBdLAogICAgICAgIHBhcnRpY2lwYW50czogWwogICAgICAgICAgewogICAgICAgICAgICByYW5rOiAxLAogICAgICAgICAgICBuYW1lOiAnQScsCiAgICAgICAgICAgIHNjb3JlOiAxNTksCiAgICAgICAgICAgIG5fc3VibWlzc2lvbjogNi4wLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgcmFuazogMiwKICAgICAgICAgICAgbmFtZTogJ0InLAogICAgICAgICAgICBzY29yZTogMjM3LAogICAgICAgICAgICBuX3N1Ym1pc3Npb246IDkuMCwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHJhbms6IDMsCiAgICAgICAgICAgIG5hbWU6ICdDJywKICAgICAgICAgICAgc2NvcmU6IDI2MiwKICAgICAgICAgICAgbl9zdWJtaXNzaW9uOiAxNi4wLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICBhc3luYyB0ZXN0QXBpKCl7CiAgICAgICAgY29uc29sZS5sb2coJ2Z1bmMt4oaTdGVzdEFwaScpCiAgICAgICAgLy8gUE9TVAogICAgICAgIGF3YWl0IGF4aW9zLnBvc3QoJ2h0dHA6Ly8xMjcuMC4wLjE6NTAwMy9nZXRfc2NvcmUnLCB7CiAgICAgICAgICB0ZXN0OiAnaGVsbG9fYXBpJwogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICB0aGlzLnNjb3JlID0gcmVzcG9uc2UuZGF0YS5zY29yZQogICAgICAgICAgdGhpcy5nZXRSYW5raW5nVGFibGUoKQogICAgICAgIH0pCiAgICAgIH0sCiAgICAgIHJlYWRGaWxlQXN5bmMgKGZpbGUpIHsKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKQogICAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHsKICAgICAgICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KQogICAgICAgICAgfQogICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSByZWplY3QKICAgICAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpCiAgICAgICAgfSkKICAgICAgfSwKICAgICAgYXN5bmMgZmlsZVNlbGVjdChmaWxlKXsKICAgICAgICBjb25zb2xlLmxvZygnZnVuYy3ihpNmaWxlU2VsZWN0JykKICAgICAgICB0cnkgewogICAgICAgICAgY29uc3QgY3N2ID0gYXdhaXQgdGhpcy5yZWFkRmlsZUFzeW5jKGZpbGUpCiAgICAgICAgICB0aGlzLnN1YkRhdGEgPSBjc3YKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlKQogICAgICAgIH0KICAgICAgfSwKICAgICAgYXN5bmMgZ2V0U2NvcmUoKXsKICAgICAgICBjb25zb2xlLmxvZygnZnVuYy3ihpNnZXRTY29yZScpCiAgICAgICAgLy8gUE9TVAogICAgICAgIGF3YWl0IGF4aW9zLnBvc3QoJ2h0dHA6Ly8xMjcuMC4wLjE6NTAwMy9nZXRfc2NvcmUnLCB7CiAgICAgICAgICBhcmdfc3ViRGF0YTogdGhpcy5zdWJEYXRhLAogICAgICAgICAgYXJnX3NlbGVjdGlvbl9uYW1lOiB0aGlzLnNlbGVjdGlvbl9uYW1lLAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICB0aGlzLnNjb3JlID0gcmVzcG9uc2UuZGF0YS5zY29yZQogICAgICAgICAgdGhpcy5nZXRSYW5raW5nVGFibGUoKQogICAgICAgIH0pCiAgICAgIH0sCiAgICAgIGFzeW5jIGdldFJhbmtpbmdUYWJsZSgpewogICAgICAgIGNvbnNvbGUubG9nKCdmdW5jLeKGk2dldFJhbmtpbmdUYWJsZScpCiAgICAgICAgLy8gUE9TVAogICAgICAgIGF3YWl0IGF4aW9zLnBvc3QoJ2h0dHA6Ly8xMjcuMC4wLjE6NTAwMy9nZXRfcmFua2luZ190YWJsZScsIHsKICAgICAgICB9KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgdGhpcy5yYW5raW5nVGFibGUgPSByZXNwb25zZS5kYXRhLnJhbmtpbmdfdGFibGUKICAgICAgICB9KQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMucmFua2luZ1RhYmxlKQogICAgICAgIHRoaXMudXBkYXRlUmFua2luZ1RhYmxlKCkKICAgICAgfSwKICAgICAgdXBkYXRlUmFua2luZ1RhYmxlKCkgewogICAgICAgIGNvbnNvbGUubG9nKCdmdW5jLeKGk3VwZGF0ZVJhbmtpbmdUYWJsZScpCiAgICAgICAgY29uc3QgcGFydGljaXBhbnRzID0gW107CiAgICAgICAgY29uc3QgbGluZXMgPSB0aGlzLnJhbmtpbmdUYWJsZS5zcGxpdCgiXG4iKTsKICAgICAgICBsaW5lcy5mb3JFYWNoKGVsZW1lbnQgPT4gewogICAgICAgICAgY29uc3QgcGFydGljaXBhbnRzRGF0YSA9IGVsZW1lbnQuc3BsaXQoIiwiKTsKICAgICAgICAgIGNvbnN0IHBhcnRpY2lwYW50ID0gewogICAgICAgICAgICByYW5rOiBwYXJ0aWNpcGFudHNEYXRhWzBdLAogICAgICAgICAgICBuYW1lOiBwYXJ0aWNpcGFudHNEYXRhWzFdLAogICAgICAgICAgICBzY29yZTogcGFydGljaXBhbnRzRGF0YVsyXSwKICAgICAgICAgICAgbl9zdWJtaXNzaW9uOiBwYXJ0aWNpcGFudHNEYXRhWzNdCiAgICAgICAgICB9OwogICAgICAgICAgcGFydGljaXBhbnRzLnB1c2gocGFydGljaXBhbnQpOwogICAgICAgIHRoaXMucGFydGljaXBhbnRzID0gcGFydGljaXBhbnRzCiAgICAgICAgfSk7CiAgICAgIH0sCiAgICB9LAogICAgLy8gbW91bnRlZCAoKSB7CiAgICBjcmVhdGVkICgpIHsKICAgICAgY29uc29sZS5sb2coJ2Z1bmMt4oaTbW91bnRlZCcpCiAgICAgIGNvbnNvbGUubG9nKHRoaXMucGFydGljaXBhbnRzKQogICAgICB0aGlzLmdldFJhbmtpbmdUYWJsZSgpCiAgICB9CiAgfQo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <v-app>\n    <v-app-bar color=\"primary\" dark app class='title'>\n      <v-toolbar-title>Data Science Competition #1</v-toolbar-title>\n      <v-spacer></v-spacer>\n      <v-btn x-large icon dark @click='getRankingTable'>\n        <v-icon dark>mdi-cached</v-icon>\n      </v-btn>\n    </v-app-bar>\n    <v-content>\n      <v-container>\n        <v-row>\n          <v-col>\n            <v-select v-model=\"selection_name\" :items='names' label='select your name'> </v-select>\n          </v-col>\n          <v-col>\n            <v-file-input @change='fileSelect' show-size label='selec your submission file' accept='.csv' ></v-file-input>\n          </v-col>\n        </v-row>\n        <v-row justify='end'>\n            <v-btn x-large color='primary' @click='testApi' outlined target='#de'>test_api</v-btn>\n            <v-btn x-large color='primary' @click='getScore' outlined target='#de'>submit</v-btn>\n        </v-row>\n        <v-list-item-title class=\"title grey--text text--darken-2\" align='center' style='margin-top: 30px'>\n          your submission score is <h2><font color='blue'>{{score}}</font></h2>\n        </v-list-item-title>\n        <v-divider></v-divider>\n        <v-list-item-title class=\"title grey--text text--darken-2\" align='center' style='margin-top: 30px'>\n          Leaderboard\n        </v-list-item-title>\n        <v-data-table\n          :headers=\"headers\" \n          :items=\"participants\" \n          :items-per-page=\"10\" \n          class=\"elevation-1 category-table\"\n          style=\"margin-left: 100px; margin-right: 100px;\" >\n          <template slot=\"items\" slot-scope=\"props\">\n            <td class=\"text-xs-right\">{{ props.item.code }}</td>\n            <td class=\"text-xs-right\">{{ props.item.name }}</td>\n            <td class=\"text-xs-right\">{{ props.item.workerType }}</td>\n          </template>\n        </v-data-table>\n      </v-container>\n    </v-content>\n  </v-app>\n</template>\n<script>\nimport axios from 'axios'\n  export default {\n    data () {\n      return {\n        score: '...',\n        hello: '',\n        subData: '',\n        rankingTable: '',\n        sortBy: 'rank',\n        sortDesc: false,\n        selection_name: '',\n        names: ['A', 'B', 'C'],\n        dropdown_font: ['Arial', 'Calibri', 'Courier', 'Verdana'],\n        headers: [\n          {\n            text: '#',\n            align: 'center',\n            sortable: false,\n            value: 'rank',\n          },\n          { text: 'Name', value: 'name'},\n          { text: 'Score', value: 'score'},\n          { text: 'N_Submission', value: 'n_submission' },\n        ],\n        participants: [\n          {\n            rank: 1,\n            name: 'A',\n            score: 159,\n            n_submission: 6.0,\n          },\n          {\n            rank: 2,\n            name: 'B',\n            score: 237,\n            n_submission: 9.0,\n          },\n          {\n            rank: 3,\n            name: 'C',\n            score: 262,\n            n_submission: 16.0,\n          },\n        ],\n      }\n    },\n    methods: {\n      async testApi(){\n        console.log('func-↓testApi')\n        // POST\n        await axios.post('http://127.0.0.1:5003/get_score', {\n          test: 'hello_api'\n        })\n        .then((response) => {\n          this.score = response.data.score\n          this.getRankingTable()\n        })\n      },\n      readFileAsync (file) {\n        return new Promise((resolve, reject) => {\n          const reader = new FileReader()\n          reader.onload = () => {\n            resolve(reader.result)\n          }\n          reader.onerror = reject\n          reader.readAsText(file)\n        })\n      },\n      async fileSelect(file){\n        console.log('func-↓fileSelect')\n        try {\n          const csv = await this.readFileAsync(file)\n          this.subData = csv\n        } catch (e) {\n          console.log(e)\n        }\n      },\n      async getScore(){\n        console.log('func-↓getScore')\n        // POST\n        await axios.post('http://127.0.0.1:5003/get_score', {\n          arg_subData: this.subData,\n          arg_selection_name: this.selection_name,\n        })\n        .then((response) => {\n          this.score = response.data.score\n          this.getRankingTable()\n        })\n      },\n      async getRankingTable(){\n        console.log('func-↓getRankingTable')\n        // POST\n        await axios.post('http://127.0.0.1:5003/get_ranking_table', {\n        })\n        .then((response) => {\n          this.rankingTable = response.data.ranking_table\n        })\n        console.log(this.rankingTable)\n        this.updateRankingTable()\n      },\n      updateRankingTable() {\n        console.log('func-↓updateRankingTable')\n        const participants = [];\n        const lines = this.rankingTable.split(\"\\n\");\n        lines.forEach(element => {\n          const participantsData = element.split(\",\");\n          const participant = {\n            rank: participantsData[0],\n            name: participantsData[1],\n            score: participantsData[2],\n            n_submission: participantsData[3]\n          };\n          participants.push(participant);\n        this.participants = participants\n        });\n      },\n    },\n    // mounted () {\n    created () {\n      console.log('func-↓mounted')\n      console.log(this.participants)\n      this.getRankingTable()\n    }\n  }\n</script>\n"]}]}